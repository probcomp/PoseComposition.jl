<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>PoseComposition.jl · PoseComposition.jl</title><script data-outdated-warner src="assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.039/juliamono-regular.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href>PoseComposition.jl</a></span></div><form class="docs-search" action="search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>PoseComposition.jl</a><ul class="internal"><li><a class="tocitem" href="#Quick-Start"><span>Quick Start</span></a></li></ul></li><li><a class="tocitem" href="operations/">Operations on Poses</a></li><li><a class="tocitem" href="further_api_reference/">Further API Reference</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>PoseComposition.jl</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>PoseComposition.jl</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/probcomp/PoseComposition.jl/blob/master/docs/src/index.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="PoseComposition.jl"><a class="docs-heading-anchor" href="#PoseComposition.jl">PoseComposition.jl</a><a id="PoseComposition.jl-1"></a><a class="docs-heading-anchor-permalink" href="#PoseComposition.jl" title="Permalink"></a></h1><hr/><p><a href="imgs/intro_illustration.svg"><img src="imgs/intro_illustration.svg" alt="Illustration of Pose geometry"/></a></p><p>PoseComposition.jl is a library for representing and manipulating poses.  It places particular emphasis on:</p><ul><li><p><strong>Algebraic structure.</strong>  This package implements two different group structures on poses.  In the first group structure, composition corresponds to change of coordinate frame.  This enables easy manipulation of chains of coordinate frames which occur commonly in operations on scene graphs:</p><p class="math-container">\[\text{pose}_{\text{floor} \to \text{napkin}} = 
\text{pose}_{\text{floor} \to \text{table}} *
\text{pose}_{\text{table} \to \text{plate}} *
\text{pose}_{\text{plate} \to \text{napkin}}\]</p><p>In the second group structure, position and orientation are treated independently; this models, e.g., inertial motion, where an object has separate translational and rotational velocities:</p><p class="math-container">\[\begin{aligned}
\mathbf{x} &amp;= \mathbf{x}_0 + \mathbf{v}_{\text{trans}} \Delta t \\
\boldsymbol{\omega} &amp;= \boldsymbol{\omega}_0 \cdot \mathbf{v}_{\text{rot}}^{\Delta t}
\end{aligned}\]</p><p>Inertial continuous-time dynamics are implemented concisely as <a href="further_api_reference/#PoseComposition.interp-Tuple{PoseComposition.Pose, PoseComposition.Pose, Real}"><code>interp</code></a>, which is itself a special case of the <a href="https://en.wikipedia.org/wiki/Exponential_map_(Lie_theory)">exponential map</a> on a Lie algebra:</p><p class="math-container">\[\text{pose}_t = \texttt{interp}(\text{pose}_0,\, \mathbf{v}_{\text{pose}},\, t)\]</p></li><li><p><strong>Clear documentation.</strong>  The geometric meaning of the data structures and operations is clearly documented, so as to minimize confusion from the many ambiguities that typically plague geometry code.</p></li><li><p><strong>Simple equations, ergonomic code.</strong>  Because change of coordinate frame is the basic algebraic operation, large equations involving many coordinate frames can be solved via simple algebra to express the relative pose between any two frames as a function of the others.  For example, in &quot;Pose Algebra In Action<sup class="footnote-reference"><a id="citeref-1" href="#footnote-1">[1]</a></sup>,&quot; we solve the equation</p><pre><code class="nohighlight hljs">pose1 * getContactPlane(getShape(g, :obj1), :top)
      * planarContactTo6DOF(pc)
== pose2 * getContactPlane(getShape(g, :obj2), :curved, 0)</code></pre><p>for <code>planarContactTo6DOF(pc)</code> by simple division in the pose group:</p><pre><code class="nohighlight hljs">planarContactTo6DOF(pc) ==
    (pose1 * getContactPlane(getShape(g, :obj1), :top))
    \ (pose2 * getContactPlane(getShape(g, :obj2), :curved, 0))</code></pre><p>By contrast, computing and expressing the position and orientation separately would require a much larger expression with nested operations and harder-to-understand code.</p></li></ul><h2 id="Quick-Start"><a class="docs-heading-anchor" href="#Quick-Start">Quick Start</a><a id="Quick-Start-1"></a><a class="docs-heading-anchor-permalink" href="#Quick-Start" title="Permalink"></a></h2><h3 id="Pose-composition-example"><a class="docs-heading-anchor" href="#Pose-composition-example">Pose composition example</a><a id="Pose-composition-example-1"></a><a class="docs-heading-anchor-permalink" href="#Pose-composition-example" title="Permalink"></a></h3><p>Define <code>p1</code>, the pose of a batter (relative to some arbitrary world coordinate frame) in a game of baseball:</p><pre><code class="language-julia hljs">p1 = Pose([10, 10, 0], QuatRotation(1, 0, 0, 0))</code></pre><p>Define <code>p1_2</code>, the relative pose of the baseball in the batter&#39;s coordinate frame, and compute <code>p2</code>, the pose of the baseball in the world coordinate frame:</p><pre><code class="language-julia hljs">p1_2 = Pose([0, 90, 5], RotZYX(0.3, 0.4, 0.5))
p2 = p1 * p1_2</code></pre><p>Suppose the ball leaves the pitcher&#39;s hand at time <span>$t=0$</span>.  If the pitch is a fastball and there is negligible wind, then the ball&#39;s pose at time <code>t</code> can be approximated as inertial:</p><pre><code class="language-julia hljs"># Translational and rotational velocity of the ball relative to the batter
v = Pose([0, -115, -0.2], RotZYX(0, 0, 10))
# Pose of the ball relative to the batter as a function of time
p1_2(t) = p2 ⊗ interp(v, t)</code></pre><h3 id="Point-cloud-example"><a class="docs-heading-anchor" href="#Point-cloud-example">Point cloud example</a><a id="Point-cloud-example-1"></a><a class="docs-heading-anchor-permalink" href="#Point-cloud-example" title="Permalink"></a></h3><p>Suppose a robot views the world through a camera that has pose <code>pose_cam</code> in the world coordinate frame, and perceives a point cloud (represented as a <span>$3 \times N$</span> matrix) <code>ptcloud_cam</code> in the camera&#39;s coordinate frame.  Then the same point cloud expressed in the world coordinate frame is</p><pre><code class="language-julia hljs">ptcloud_world = pose_cam * ptcloud_cam</code></pre><p>Conversely, if we know of a point cloud <code>ptcloud_world</code> expressed in the world coordinate frame and want to re-express it in the camera&#39;s coordinate frame:</p><pre><code class="language-julia hljs">ptcloud_cam = pose_cam \ ptcloud_world</code></pre><section class="footnotes is-size-7"><ul><li class="footnote" id="footnote-1"><a class="tag is-link" href="#citeref-1">1</a>The &quot;Pose Algebra in Action&quot; doc is temporarily unavailable; please check back soon!</li></ul></section></article><nav class="docs-footer"><a class="docs-footer-nextpage" href="operations/">Operations on Poses »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.10 on <span class="colophon-date" title="Monday 27 December 2021 20:48">Monday 27 December 2021</span>. Using Julia version 1.6.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
